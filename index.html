<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>确认提示</title>
    <style>
        .modal {
            padding: 20px;
            background: white;
            border-radius: 8px;
            text-align: center;
        }
        .btn {
            margin: 10px;
            padding: 8px 20px;
        }
    </style>
</head>
<body>
    <div class="modal">
        <h3>⚠️ 重要提示</h3>
        <p>您变更了旧加工工序，请确认新工序也同步变更，确定要提交吗？</p>
        <button class="btn" onclick="confirmSubmit()">确定</button>
        <button class="btn" onclick="cancelSubmit()">取消</button>
    </div>
    
    <script>
        // 从URL参数获取原始数据
        const urlParams = new URLSearchParams(window.location.search);
        const fieldName = urlParams.get('field') || '该字段';
        
        // 更新提示文本
        document.querySelector('p').textContent = `您修改了【${fieldName}】，确定要提交吗？`;
        
        function confirmSubmit() {
            // 通知父窗口确认提交
            if (window.opener) {
                window.opener.postMessage('confirm', '*');
            }
            window.close();
        }
        
        function cancelSubmit() {
            // 通知父窗口取消提交
            if (window.opener) {
                window.opener.postMessage('cancel', '*');
            }
            window.close();
        }
    </script>
</body>
</html>